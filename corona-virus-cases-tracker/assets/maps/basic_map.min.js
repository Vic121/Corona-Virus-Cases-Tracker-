jQuery(document).ready((function($){var ajaxURL=cvct_map_data.ajax_url,colors="",getbasicMapdata="",colorsJson=$("#cvct-color-settings").html();colorsJson&&(colors=JSON.parse(colorsJson));var data={action:"basic_map_data"},request;function generateTable(basicMapdataObj,colors){var tableCont=$(".cvct-basic-map-table tbody");for(const key in colors)if(colors.hasOwnProperty(key)){const colorCode=colors[key];$(".indicator tbody tr").find("td."+key).css("background-color",colorCode)}var htmlArr=[],totalConfirmed=0,totaldeaths=0,totalrecovered=0;for(const key in basicMapdataObj)if(basicMapdataObj.hasOwnProperty(key)&&null!=basicMapdataObj[key].confirmed){const confirmed=basicMapdataObj[key].confirmed,country_name=basicMapdataObj[key].country_name,deaths=basicMapdataObj[key].deaths,recovered=basicMapdataObj[key].recovered,flag=basicMapdataObj[key].flag;totalConfirmed=parseInt(totalConfirmed)+parseInt(confirmed),totaldeaths=parseInt(totaldeaths)+parseInt(deaths),totalrecovered=parseInt(totalrecovered)+parseInt(recovered),htmlArr.push("<tr><td>"+flag+country_name+"</td><td>"+formatNumber(confirmed)+"</td><td>"+formatNumber(recovered)+"</td><td>"+formatNumber(deaths)+"</td></tr>")}tableCont.append(htmlArr.join("")),jQuery(".cvct-basic-map-table").DataTable({responsive:!0,order:[1,"desc"]})}function generateBasicChart(mapData,colors){var series=mapData,covid19Map=new Datamap({element:document.getElementById("cvct_basic_map"),projection:"mercator",fills:colors,responsive:!0,data:mapData,geographyConfig:{borderColor:"#808080",highlightBorderWidth:2,highlightFillColor:function(geo){return geo.fillColor||"rgba(255, 255, 255, 0.5);"},highlightBorderColor:"#000",popupTemplate:function(geo,data){return null==data?['<div class="hoverinfo">','<strong style="font-size:20px">',geo.properties.name,"</strong>","<br><strong> 0% Confirmed</strong>","</div>"].join(""):['<div class="hoverinfo">','<strong style="font-size:20px">',geo.properties.name,"</strong>","<br><strong>",formatNumber(data.confirmed)," Confirmed</strong>","<br><strong>",formatNumber(data.deaths)," Deaths</strong>","<br><strong>",formatNumber(data.recovered)," Recovered</strong>","</div>"].join("")}}})}function formatNumber(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}$.ajax({url:ajaxURL,method:"GET",data:data}).done((function(response,textStatus,jqXHR){if(response&&200==jqXHR.status&&null!=(getbasicMapdata=response)){var basicMapdataObj=JSON.parse(getbasicMapdata);null!=basicMapdataObj&&($(".cvct_preloader").hide(),generateBasicChart(basicMapdataObj,colors),$(".cvct-basic-map-table").length&&generateTable(basicMapdataObj,colors))}}))}));