jQuery(document).ready((function($){var mapWrp;function generateInChart(statesData,elementId){var bubble_map=new Datamap({element:document.getElementById(elementId),scope:"india",geographyConfig:{popupTemplate:function(geo,data){return 0!=data.all?['<div class="hoverinfo"><strong style="display:block;font-size:16px">',geo.properties.name+"</strong>","<strong>Confirmed</strong>:"+data.all.cases+"</strong></br>","<strong>Deaths</strong>:"+data.all.deaths+"</strong></br>","<strong>Recovered</strong>:"+data.all.recovered+"</strong>","</strong></div>"].join(""):['<div class="hoverinfo"><strong style="display:block;font-size:16px">',geo.properties.name+"</strong><strong>0%</strong>","</strong></div>"].join("")},borderColor:"#444",borderWidth:.5,dataUrl:"https://rawgit.com/Anujarya300/bubble_maps/master/data/geography-data/india.topo.json",highlightBorderColor:"#000",highlightOnHover:!0,popupOnHover:!0,highlightFillColor:function(geo){return geo.fillColor||"rgba(255, 255, 255, 0.5);"}},highlightBorderWidth:2,fills:{high:"#BB171C",medium:"#E83B2E",minor:"#FCA487",low:"#FDD5C3",verylow:"#ffefed",none:"#ccc",defaultFill:"#FFFFFF"},data:statesData,setProjection:function(element){var projection=d3.geo.mercator().center([78.9629,23.5937]).scale(1e3),path;return{path:d3.geo.path().projection(projection),projection:projection}}});bubble_map.legend(),bubble_map.labels()}function generateUSChart(statesData,elementId){var covid19Map=new Datamap({scope:"usa",element:document.getElementById(elementId),geographyConfig:{popupOnHover:!0,highlightOnHover:!0,borderColor:"#808080",borderWidth:.5,highlightBorderColor:"#000",highlightFillColor:function(geo){return geo.fillColor||"rgba(255, 255, 255, 0.5);"},popupTemplate:function(geography,data){return`<div class="hoverinfo">\n        <strong style="display:block;font-size:16px">${geography.properties.name}</strong>\n         <strong>Confirmed</strong>: ${formatNumber(data.all.cases)}</br>\n         <strong>Deaths</strong>: ${formatNumber(data.all.deaths)}</br>\n         <strong>Active</strong>: ${formatNumber(data.all.active)}</br>\n         <strong>Recovered</strong>: ${formatNumber(data.all.recovered)}</br>\n         </div>`},highlightBorderWidth:2},fills:{"20000+":"#BB171C","5000+":"#E83B2E","1000+":"#FCA487","100+":"#FDD5C3","1+":"#ffefed",none:"#ccc",defaultFill:"#FFFFFF"},data:statesData});covid19Map.labels(),covid19Map.legend()}function formatNumber(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}$(".cvct-country-map-wrapper").each((function(){var element=$(this).find("div.cvct-country-map"),element_id=element.attr("id"),elementId="#"+element.attr("id"),country=element.attr("data-country"),countryStats=$(elementId+"_data").html();null!=countryStats&&(statesData=JSON.parse(countryStats),"US"==country?generateUSChart(statesData,element_id):generateInChart(statesData,element_id))}))}));